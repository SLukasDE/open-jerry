<jerry>
	<library file="./libmhd4esl.so"/>
	<library file="./librdkafka4esl.so"/>
	<library file="./liblogbook4esl.so"/>
	<library file="./libzsystem4esl.so"/>
	
	<certificate domain="*" key="server.key" cert="server.pem"/>
	
	<!--esl-config>
		<library file="./libmhd4esl.so"/>
		<library file="./liblogbook4esl.so"/>
		<library file="./libzsystem4esl.so"/>
		
		<default type="esl-com-http-server" implementation="mhd4esl">
			<parameter key="threads" value="4"/>
		</default>
		
		<logger>
			<layout id="standard" implementation="esl/logging/builtin">
				<parameter key="showTimestamp" value="true"/>
				<parameter key="showLevel" value="true"/>
				<parameter key="showTypeName" value="true"/>
				<parameter key="showAddress" value="false"/>
				<parameter key="showFile" value="false"/>
				<parameter key="showFunction" value="false"/>
				<parameter key="showLineNo" value="false"/>
				<parameter key="showThreadNo" value="false"/>
			</layout>
			
			<appender implementation="esl/logging/builtin/ostream" record="selected" layout="standard">
				<parameter key="info" value="out"/>
				<parameter key="warn" value="out"/>
				<parameter key="error" value="err"/>
			</appender>
			
			<appender implementation="esl/logging/builtin/membuffer" record="all">
				<parameter key="lines" value="100"/>
				<parameter key="info" value="out"/>
				<parameter key="warn" value="out"/>
				<parameter key="error" value="err"/>
			</appender>
			
			<setting level="warn"  scope="*"/>
			<setting level="trace" scope="jerry::*"/>
			<setting level="info"  scope="jerrA::*"/>
		</logger>
	</esl-config-->
	
	<!--logger layout="esl/logging/builtin"-->
	<logger layout="">
		<layout key="showTimestamp" value="true"/>
		<layout key="showLevel" value="true"/>
		<layout key="showTypeName" value="true"/>
		<layout key="showAddress" value="false"/>
		<layout key="showFile" value="false"/>
		<layout key="showFunction" value="false"/>
		<layout key="showLineNo" value="false"/>
		<layout key="showThreadNo" value="false"/>
		
		<setting class="*" level="WARN"/>
		<setting class="jerry::*" level="TRACE"/>
		<setting class="jerrA::*" level="INFO"/>
	</logger>
	
	<object id="kafka-broker-1" implementation="rdkafka4esl">
		<parameter key="kafka.group.id" value="test"/>
		<parameter key="kafka.bootstrap.servers" value="192.168.2.105:9092"/>
	</object>
	
	<basic-client id="kafka-client-1" implementation="rdkafka4esl">
		<parameter key="broker-id" value="kafka-broker-1"/>
		<parameter key="topic" value="quickstart-results"/>
	</basic-client>
	
	<basic-context id="ref-context">
		<requesthandler implementation="jerry/builtin/basic/echo">
			<parameter key="notifier" value="quickstart-events"/>
			<!--parameter key="delay-ms" value="1000"/-->
			<parameter key="connection-factory-id" value="kafka-client-1"/>
		</requesthandler>
		<requesthandler implementation="jerry/builtin/basic/dump">
			<parameter key="notifier" value="quickstart-results"/>
			<parameter key="show-context" value="true"/>
			<parameter key="show-content" value="true"/>
		</requesthandler>
		<!--requesthandler implementation="jerry/builtin/basic/dump">
			<parameter key="notifier" value="quickstart-events"/>
			<parameter key="show-context" value="true"/>
			<parameter key="show-content" value="true"/>
		</requesthandler-->
	</basic-context>
	
	<basic-server implementation="rdkafka4esl">
		<parameter key="threads" value="4"/>
		<parameter key="poll-timeout-ms" value="500"/>
		<parameter key="kafka.group.id" value="test"/>
		<parameter key="kafka.bootstrap.servers" value="192.168.2.105:9092"/>
	
		<listener>
			<context ref-id="ref-context"/>
		</listener>
	</basic-server>
</jerry>
